일부 데이터베이스는 RAM을 기본 스토리지 계층으로 취급
 > 메모리에 저장된 데이터가 클러스터 간에 복제되더라도, 정전으로 인해 여러 노드의 다운이 발생하면 데이터가 손실될 수 있다.
 > 베터리 백업을 사용해 정전 시 모든 데이터를 자동으로 디스크에 덤프 할 수 있다.

데이터를 지리적으로 분산함으로써 얻을 수 있는 내구성 및 가용성과, 스토리지를 소비자 또는 기록자와 가까운 좁은 지역에 보관함으로써 얻을 수 있는 성능 및 비용상의 이점 사이에서 항상 균형을 유지해야 한다.


#직렬화
 > 데이터를 평탄화하고 표준 포맷으로 패킹하는 프로세스, 판독기가 디코딩할 수 있다. 직렬화 형식은 데이터 교환의 표준을 제공한다.
데이터를 행 기반 방식으로 XML, JSON 또는 CSV파일로 인코딩해 다른 사용자에게 전달하면 표준 라이브러리를 사용해 데이터를 디코딩할 수 있다.
직렬화 알고리즘에는 유형(type)을 취급하는 로직이 있으며, 데이터 구조에 규칙을 부과하고 프로그래밍 언어와 CPU간의 교환을 허용한다.
데이터 엔지니어는 일반적인직렬화 관행과 형식, 특히 현재 가장 인기 있는 형식(예:아파치 파케이), 하이브리드 직렬화(예:아파치 후디) 및 인메모리 직렬화(예:아파치 애로)에 익숙해질 것을 권장한다.

#압축
 > 압축을 통해 디스크 공간을 줄일 수 있고, 디스크당 실제 검색속도가 향상되며, 네트워크 성능이 향상된다.
 단, 데이터 압축 및 해제시 시간과 자원이 추가로 소모된다.


 6.2 데이터 스토리지 시스템
#분산형 시스템에서 흔히 볼 수 있는 두 가지 일관성 패턴인 최종일관성 vs 강력한 일관성

BASE - 기본적으로 가용성을 보장하는(basically available), 소프트한 상태의(soft-state),최종 일관성(eventual consistency) <> ACID
 1. 기본적으로 가용성을 보장
  > 일관성을 보장하지는 않지만, 데이터베이스 읽기 및 쓰기는 최선의 노력을 기반으로 이루어지므로 대부분의 경우 일관된 데이터를 사용할 수 있다.
 2. 소프트한 상태
  > 트랜잭션의 상태가 불분명하며 트랜잭션이 커밋되었는지 커밋되지 않았는지 불확실하다.
 3. 최종 일관성
  > 어느 시점에서 데이터를 읽으면 일관된 값을 반환한다.

강력한 일관성
 > 모든 노드에 대한 쓰기가 합의에 따라 분산되고, 데이터베이스에 대한 모든 읽기가 일관된 값을 반환하도록 보장한다.


파일 스토리지
 파일의 특성
  > 파일은 길이가 유한한 바이트 스트림이다.
  > 호스트 스토리시 시스템의 한계까지 파일에 바이트를 추가할 수 있다.
  > 파일의 모든 위치에서 조회하거나 갱신할 수 있다.

 디스크가 연결된 서버에서 파일을 처리해야 할 때 처리 단계 사이의 중간 스토리지로 객체 스토리지를 사용하자.
 일회성 수집 단계나 파이프라인 개발의 탐색 단계를 위해 수동저수준 파일 처리를 예약해 두자.



